import React, { useState } from 'react'
import { GrCart } from 'react-icons/gr'
import { Link, NavLink } from 'react-router-dom'
import '../header.css'
import '../../../index.css'
import { useCart } from '../../../contexts/ProdProvider';

import { useScroll, useMotionValueEvent } from 'framer-motion'



const BottomHeader = () => {

    const { scrollY } = useScroll();

    let [navTopVal, setNavTopVal] = useState('90px')

    useMotionValueEvent(scrollY, 'change', (event) => {
        console.log('event scroll val', event);

        if (event > 0) {
            setNavTopVal(0)
        }
        else {
            setNavTopVal('90px')
        }

    })

    let { cartProducts } = useCart();
    // console.log('cartProducts', cartProducts)
    // console.log('cartProducts Length', cartProducts.length)
    let mainCartItemLen = 0;
    cartProducts.map(elem => mainCartItemLen += elem.quantity);

    // console.log('mainCartItemLen', mainCartItemLen)

    return (
        <div className={`bottom_header fixed top-[${navTopVal}] z-40 flex flex-wrap items-center gap-4  mx-auto w-full bg-white border-t-1 border-b-1  border-[#E0E0E0]  py-[17px]  `} >


            <div className=' head_foot_cont max-w-[1440px] flex flex-wrap items-center gap-4  mx-auto w-full ' id='collapseMenu' >
                <ul
                    className='lg:flex lg:gap-x-5 max-lg:space-y-3 max-lg:fixed max-lg:bg-white max-lg:w-1/2 max-lg:min-w-[300px] max-lg:top-0 max-lg:left-0 max-lg:p-6 max-lg:h-full max-lg:shadow-md max-lg:overflow-auto z-50'>
                    <li className='max-lg:border-b '>
                        <NavLink to='/' className={({ isActive, isPending }) => isPending ? "pending" : isActive ? "active" : "font-medium lg:hover:text-blue-700 font-inter text-[#1C1C1C] block text-[16px]"} >Home</NavLink>
                    </li>
                    <li className='max-lg:border-b '>
                        <NavLink to='/about-us' className={({ isActive, isPending }) => isPending ? "pending" : isActive ? "active" : "font-medium lg:hover:text-blue-700 font-inter text-[#1C1C1C] block text-[16px]"} >About Us</NavLink>
                    </li>
                    <li className='max-lg:border-b '>
                        <NavLink to='/blogs' className={({ isActive, isPending }) => isPending ? "pending" : isActive ? "active" : "font-medium lg:hover:text-blue-700 font-inter text-[#1C1C1C] block text-[16px]"} >Blogs</NavLink>
                    </li>
                    <li className='max-lg:border-b '>
                        <NavLink to='/products' className={({ isActive, isPending }) => isPending ? "pending" : isActive ? "active" : "font-medium lg:hover:text-blue-700 font-inter text-[#1C1C1C] block text-[16px]"} >Products</NavLink>
                    </li>
                    <li className='max-lg:border-b '>
                        <NavLink to='/contact' className={({ isActive, isPending }) => isPending ? "pending" : isActive ? "active" : "font-medium lg:hover:text-blue-700 font-inter text-[#1C1C1C] block text-[16px]"} >Contact</NavLink>
                    </li>

                </ul>


            </div>
        </div>
    )
}

export default BottomHeader
